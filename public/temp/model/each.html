<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
<title>each</title>
<link rel="stylesheet" href="/css/nojs/ui.css">
<script src="/js/lib/nojs/noJS.js" id="nojs"></script>
<script>
noJS.config({
    base : '/src/',
    alias : {
        '$' : 'lib/jquery/jquery',
        'ui' : 'lib/nojs/ui'
    }
})
</script>
</head>
<body>
<style>
    .nj_module{margin:20px;border:1px solid #e4e4e4;padding:20px;}
</style>
<div nj-module="arrayEach" class="nj_module">
    <textarea cols="100" rows="3" style="vertical-align:top">{{ JSON.stringify(list) }}--</textarea>
    {{browser}}
    <ul nj-each="list1">
        <li>{{$key}}  name:{{name}}, value:{{value}} <input type="text" nj-item="name">
            <a href="javascript:void(0)" 
                nj-click="$parent.list1.length>1 && $parent.list1.splice($key,1)"

                >remove</a>
        </li>
    </ul> <br />

    <ul>
        <li nj-each="list|orderBy:order|repeat:true">{{$key}}  name:{{name}}, value:{{value}} <input type="text" nj-item="name">
            <a href="javascript:void(0)" 
                nj-click="delete $parent.list[$key]"

                >remove</a>
        </li>
    </ul> 

    <p class="gray9 mb10">orderBy:
    <select name="" nj-item="order" multiple>
        <option value="value">value</option>
        <option value="name">name</option>
    </select>
    </p>

    <button class="nj_btn" nj-click="add()">add</button>

</div>

<script>
noJS.use('$,ui,lib/nojs/model', function($,ui,nj){
    nj.module('arrayEach', function(scope){
        this.browser = $.browser.msie && parseInt($.browser.version)<=8 ? true : false;
        this.list1 = [
            {name:33,value:22},{name:22,value:11},{name:11,value:33}
        ]

        this.list = {
            'a' : {name:3,value:22},
            'b' : {name:2,value:11},
            'c' : {name:1,value:33}
        }

        
        this.add = function(){
            this.$set('list.push', {name:this.list.length+1,value:'new'+this.list.length});
        }      
        
    })    
    
    
})
</script>

</body>
</html>