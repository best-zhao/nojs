<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
<title>each</title>
<link rel="stylesheet" href="/css/nojs/ui.css">
<script src="/js/lib/nojs/noJS.js" id="nojs"></script>
<script>
noJS.config({
    base : '/src/',
    alias : {
        '$' : 'lib/jquery/jquery',
        'ui' : 'lib/nojs/ui'
    }
})
</script>
</head>
<body>
<style>
    .nj_module{margin:20px;border:1px solid #e4e4e4;padding:20px;}
</style>
<div nj-module="arrayEach" class="nj_module">
    <textarea cols="100" rows="3" style="vertical-align:top">{{ JSON.stringify(list) }}--</textarea>
    {{browser}}
    <ul>
        <li nj-each="list|orderBy:order|repeat:true">{{$key}}  name:{{name}}, value:{{value}} <input type="text" nj-item="name">
            <a href="" classe="{{$parent.list.length<2?'gray9':'gray3'}}"
                nj-style="color:{{ $parent.list.length<2?'#ccc':'#0074D7' }}"
                nj-click="$parent.list.length>1 && $parent.list.splice($key,1)"

                >remove</a>
        </li>
    </ul> 

    <p class="gray9 mb10">orderBy:
    <select name="" nj-item="order" multiple>
        <option value="value">value</option>
        <option value="name">name</option>
    </select>
    </p>

    <button class="nj_btn" nj-click="add()">add</button>

</div>

<script>
noJS.use('$,ui,lib/nojs/model', function($,ui,nj){
    nj.module('arrayEach', function(scope){
        this.browser = $.browser.msie && parseInt($.browser.version)<=8 ? true : false;
        this.list = [
            {name:3,value:22},{name:2,value:11},{name:1,value:33}
        ]
        
        this.add = function(){
            this.$set('list.push', {name:this.list.length+1,value:'new'+this.list.length});
        }      
        
    })    
    
    
})
</script>

</body>
</html>