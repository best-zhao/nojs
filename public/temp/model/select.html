<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
<title>select</title>
<link rel="stylesheet" href="/css/nojs/ui.css">
<script src="/js/lib/nojs/noJS.js" id="nojs"></script>
<script src="/js/conf.js"></script>
</head>
<body>
<style>
    .nj_module{margin:20px;border:1px solid #e4e4e4;padding:20px;}
</style>
<div nj-module="modSelect" class="nj_module">

    <!-- <select name="" nj-item="sels">
        <option value="empty">empty</option>
        <option value="{{value}}" nj-each="items|repeat:true">{{ name }}</option>
    </select>
    {{ sels && JSON.stringify(sels) }} - {{values()}} - {{names+'_a'}} -->

    <p>user:{{user1.name}}</p>

</div>

<div nj-module="modUser" class="nj_module">

    <p><span class="gray9">user.name:</span> {{user2.name}}</p>
    <!-- <p><span class="gray9">user.a:</span> {{user2.a}}</p> -->
</div>



<script type="text/templete" id="nj_tmpl">
    <ul>
        <li>12</li>
        <li>12</li>
    </ul>
</script>

<script>
noJS.use('$,ui,nj', function($,ui,nj){

    nj.module('user', function(){
        function user(){
            this.name = 'aa';
        }
        return new user();
    })

    nj.controller('modSelect', function($scope, user){
        setTimeout(function(){
            $scope.$set('user1.name', 1);
        }, 1000)
        $scope.user1 = user;

        $scope.items = [
            {name:1,value:1}, {name:2,value:2}
        ]
        $scope.names = 'nolure';
        $scope.sels = $scope.items[0];

        $scope.values = function(){
            // console.log('value:', $scope.sels)
            return $scope.sels && $scope.sels.value 
        }
    })

    nj.controller('modUser', function($scope, user){
        $scope.user2 = user;
        setTimeout(function(){
            //$scope.$set('user2.name', 2);
        }, 2000)
        $scope.user2.name = 22;
    });

    setTimeout(function(){
        //nj.$set('user.name', 'ba');
    }, 3000)

})

// var tmpl = document.getElementById('nj_tmpl'),
//     el = document.createElement('div');

// el.innerHTML = tmpl.innerHTML.replace(/^\s*|\s*$/g, '');
// console.log(el.childNodes)

</script>

</body>
</html>