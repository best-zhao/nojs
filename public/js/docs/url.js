/*nolure@vip.qq.com*/define("docs/url",["lib/jquery/jquery"],function(require){function a(c,e){var f,g,h=location.hash.replace(/^#/,"").split("&"),i={},j="object"==d.type(c);for(c=c||"id",f=0;f<h.length;f++)h[f]&&(g=h[f].split("="),i[g[0]]=g[1]);if(j)return void a.group(d.extend({},i,c));if(e==i[c])return i[c];if(null===e)delete i[c];else{if(void 0===e)return i[c]=i[c]&&decodeURIComponent(i[c]),i[c]&&decodeURIComponent(i[c]);i[c]=e&&encodeURIComponent(e),i[c]=encodeURIComponent(i[c])}h=[];for(f in i)h.push(f+"="+i[f]);a.call&&a.call(),b(h.join("&"))}function b(a){f&&(g.document.getElementById(a)||h.append('<a id="'+a+'" style="display:block;width:1px;height:1px"></a>'),i.href="#"+a,i.click()),location.hash=a}function c(a){var b,d,e=c.hash(a.newURL),f=c.hash(a.oldURL);for(d in e)if(e[d]!=f[d]){b=d;break}if(!b)for(d in f)if(e[d]!=f[d]){b=d;break}return b}var d=require("lib/jquery/jquery"),e={},f=d.browser.ie&&parseFloat(d.browser.version)<8;if(f){var g,h=d('<iframe id="hashIframe" name="hashIframe" style="display:none;position:absolute"></iframe><a target="hashIframe"></a>').appendTo(document.body),i=h[1];g=h[0].contentWindow,h=g.document,h.open(),h.write('<a href="" style="display:block;width:100px;height:500px"></a>'),h.close(),h=d(h.body),h.css({height:"1px",overflow:"scroll"})}if(e.onHashChange=[],a.group=function(c){var d=[];for(var e in c)c[e]&&d.push(e+"="+c[e]);d=d.join("&"),"#"+d!=location.hash&&(a.call&&a.call(),b(d))},e.setUrl=a,c.hash=function(a){var b,c,d={},e=0;if(!a)return d;for(b=a.split("#")[1],b=b?b.split("&"):[];e<b.length;e++)c=b[e].split("="),d[c[0]]=c[1];return d},e.getChange=c,"undefined"!=typeof onhashchange){var j,k,l,m=e.onHashChange,n=location.href,o=function(b){for(b=b||window.event,b.oldURL=b.oldURL||n,b.newURL=b.newURL||location.href,n=b.newURL,k=m.length,l={},l.id=a(),l.key=c(b),j=0;k>j;j++)m[j](b,l)};f?d(g).on("scroll",function(a){o(a)}):window.onhashchange=o}return e});