/*nolure@vip.qq.com*/!function(a,b){"function"==typeof define&&define.cmd?define("lib/nojs/ui",[],b):a.ui=b(null,jQuery)}(this,function(require){function a(a){if(a){var b,d=typeof a;return"string"==d?b=c("#"+a):"object"==d&&(b=a.nodeType||a===window||a===window.parent?c(a):a),b=b.length?b:null}}function b(a,b){var c=function(){};c.prototype=b.prototype,a.prototype=new c,a.prototype.constructor=a,a.baseConstructor=b,a.baseClass=b.prototype}var c=require("lib/jquery/jquery"),d={};return d.touch=function(a){require.async("./touch",a)},screen.width<=640&&(d.mobile=!0,d.touch()),d.dom=a,b.proto=function(a,b){for(var c in b)!function(b,d){a.prototype[c]=function(){b.apply(this,[d].concat(Array.prototype.slice.call(arguments)))}}(b[c],a.prototype[c])},d.extend=b,d.config=function(a){a=a||{};for(var b in a)d.config[b]=c.extend(!0,d.config[b],a[b])},d.config.eventType=d.mobile?"tap":"mouseover",d.config.clickEvent=d.mobile?"tap":"click",d.config.iconText={ok:"&#xe60f;",warn:"&#xe622;",error:"&#xe60e;",confirm:"&#xe622;"},void 0==window.JSON&&(window.JSON=function(){function a(b){if("object"==c.type(b)){var d,e,f,g=[];for(d in b)e=b[d],void 0!==e&&"function"!=typeof e&&(f="object"==c.type(e)?a(e):String(e),f="string"==typeof e?'"'+f+'"':f,g.push('"'+d+'":'+f));return"{"+g.join(",")+"}"}}function b(a){return"string"==typeof a?(a=a.replace(/^\s*|\s*$/g,""),a&&d.test(a.replace(f,"@").replace(g,"]").replace(e,""))?new Function("return "+a)():void 0):void 0}var d=/^[\],:{}\s]*$/,e=/(?:^|:|,)(?:\s*\[)+/g,f=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,g=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g;return{stringify:a,parse:b}}()),"function"!=typeof Array.prototype.forEach&&(Array.prototype.forEach=function(a,b){for(var c=0,d=this.length;d>c;c++)"function"==typeof a&&Object.prototype.hasOwnProperty.call(this,c)&&a.call(b,this[c],c,this)}),"function"!=typeof Array.prototype.map&&(Array.prototype.map=function(a,b){var c=[];if("function"==typeof a)for(var d=0,e=this.length;e>d;d++)c.push(a.call(b,this[d],d,this));return c}),"function"!=typeof Array.prototype.filter&&(Array.prototype.filter=function(a,b){var c=[];if("function"==typeof a)for(var d=0,e=this.length;e>d;d++)a.call(b,this[d],d,this)&&c.push(this[d]);return c}),"function"!=typeof Array.prototype.indexOf&&(Array.prototype.indexOf=function(a){var b=-1;return this.forEach(function(c,d){c===a&&(b=d)}),b}),d.animate=function(){function a(c){function d(){k+=h;var a=e(j(k));return a===!1||!f&&k>1?void(!f&&k>1&&e(1)):void b(d)}if(c=c||{},c.callback){var e=c.callback,f=c.loop,g=c.speed||1,h=g/60,i=c.easing||"easeOutExpo",j=a.easings[i],k=0;b(d)}}var b=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){window.setTimeout(a,1e3/60)};return a.easings={linear:function(a){return a},easeOutExpo:function(a){return 1==a?1:1*(-Math.pow(2,-10*a/1)+1)},easeOutQuart:function(a){return-1*((a=a/1-1)*a*a*a-1)}},a}(),c.extend(c.easing,{easeOutExpo:function(a,b,c,d,e){return b==e?c+d:d*(-Math.pow(2,-10*b/e)+1)+c}}),c.extend(c,{onScroll:function(a,b){var c=function(a){a=a||window.event,a.wheelDelta?a.returnValue=!1:a.detail&&a.preventDefault(),b&&b(a)};document.addEventListener&&a.addEventListener("DOMMouseScroll",c,!1),a.onmousewheel=c},tmpl:function(){var a={};return function(b,d){var e=/\W/.test(b)?new Function("o","var p=[];with(o){p.push('"+b.replace(/[\r\t\n]/g," ").split("<%").join("	").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',(typeof $1=='undefined'?'':$1),'").split("	").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):a[b]=a[b]||c.tmpl(document.getElementById(b).innerHTML);return d?e(d):e}}(),cookie:function(a,b,d){if("undefined"==typeof b){var e="";if(document.cookie&&""!=document.cookie)for(var f=document.cookie.split(";"),g=0;g<f.length;g++){var h=c.trim(f[g]);if(h.substring(0,a.length+1)==a+"="){e=decodeURIComponent(h.substring(a.length+1));break}}return e}d=d||{},null===b&&(b="",d.expires=-1);var i="";if(d.expires&&("number"==typeof d.expires||d.expires.toUTCString)){var j;"number"==typeof d.expires?(j=new Date,j.setTime(j.getTime()+24*d.expires*60*60*1e3)):j=d.expires,i="; expires="+j.toUTCString()}var k=d.path?"; path="+d.path:"",l=d.domain?"; domain="+d.domain:"",m=d.secure?"; secure":"";document.cookie=[a,"=",encodeURIComponent(b),i,k,l,m].join("")},localStorage:function(){function a(){var a,b=0;for(a in e)+new Date>e[a]?(c.remove(a),delete e[a]):b++;b>0?c.set(d,JSON.stringify(e)):c.remove(d)}var b=window.localStorage||function(){var a,b,c=document.getElementsByTagName("head")[0],d=window.location.hostname||"localStorage",e=new Date;if(!c.addBehavior)return{};try{b=new ActiveXObject("htmlfile"),b.open(),b.write('<script>document.w=window;</script><iframe src="/favicon.ico"></frame>'),b.close(),a=b.w.frames[0].document}catch(f){a=document}c=a.createElement("head"),a.appendChild(c),e.setDate(e.getDate()+365),c.addBehavior("#default#userData"),c.expires=e.toUTCString(),c.load(d);var g=c.XMLDocument.documentElement,h=g.attributes,i="prefix_____hack__",j=/^[-\d]/,k=new RegExp("^"+i),l=function(a){return j.test(a)?i+a:a},m=function(a){return a.replace(k,"")};return{length:h.length,getItem:function(a){return(h.getNamedItem(l(a))||{nodeValue:null}).nodeValue||g.getAttribute(l(a))},setItem:function(a,b){g.setAttribute(l(a),b),c.save(d),this.length=h.length},removeItem:function(a){g.removeAttribute(l(a)),c.save(d),this.length=h.length},clear:function(){for(;h.length;)this.removeItem(h[0].nodeName);this.length=0},key:function(a){return h[a]?m(h[a].nodeName):void 0}}}(),c={length:b.length,set:function(a,f,g){g=g||{},void 0!==this.get(a,!1)&&this.remove(a),"number"==typeof g.expires&&(e[a]=+new Date+24*g.expires*60*60*1e3,c.set(d,JSON.stringify(e))),b.setItem(a,f,g),this.length=b.length},get:function(c,d){d=d===!1?!1:!0,d&&a();var e=b.getItem(c);return null===e?void 0:e},remove:function(a){b.removeItem(a),this.length=b.length},clear:function(){b.clear(),this.length=0},key:function(a){return b.key(a)}},d="__expireskey__",e=c.get(d,!1);return e?(e=JSON.parse(e),a()):e={},c.check=a,c}()}),d.events=function(){function a(a){for(var b in a)"reverse"==b||a.reverse[b]||(a.reverse[b]=a[b])}var b={},e={_data:{},type:"post",dataType:"json"};return{config:function(a){e=c.extend(!0,e,a)},add:function(d){var f,g;for(f in d)g=c.extend(!0,{},e,d[f]),g.reverse&&a(g),b[f]=g},on:function(a,b){if("object"!=c.type(a)){b=b||{};var e=d.dom(b.target);"string"==typeof a&&e&&e.on(d.config.clickEvent,function(){return d.events.trigger(a,c.extend({},b,{target:this,state:c(this).data("state")})),"input"==this.tagName.toLowerCase()?!0:!1})}else for(var f in a)d.events.on(f,a[f])},trigger:function(d,f){if("string"!=typeof d&&(f=d),"object"==c.type(f)){var g,h,i,j=b[d]||e;if(f=f||{},i=f.target,!i||!c(i).data("ajaxState")){(h=j.reverse)&&(h=c(i).data("state")?!0:!1,f.reverse&&(a(f),f=h?f.reverse:f)),g=c.extend(!0,{},h?j.reverse:j),"function"==typeof f.data&&(f.data=f.data.call(i)),f.newData?g.data=null:"function"==typeof g.data&&(g.data=g.data.call(i)),g=c.extend(!0,g,f);var k,l=g.beforeSend;if(l){if(k=l.call(g),k===!1)return;delete g.beforeSend}i=c(i),i.data("ajaxState",!0);var m=g.success||[];g.success="array"==c.type(m)?m:[m],g.success.unshift(function(a){i.data("ajaxState",null),1==a.status&&j.reverse&&(g.state=j.state=h?null:1,i.data("state",g.state))}),g.context=g,c.ajax(g)}}}}}(),d.align=function(b){this.options=b=b||{},this.element=a(b.element),this.nearby=a(b.nearby);var d=this.nearby&&this.nearby[0]===window;this.position=c.extend(d?{top:50,left:50}:{top:100,left:0},b.position),this.relative=void 0!=b.relative?b.relative:d?!0:!1,this.fixed=void 0==b.fixed&&d?"fixed":b.fixed;var e=c.browser.ie&&6==parseInt(c.browser.version);this.cssFixed="fixed"==this.fixed&&!e&&d,this.offset=b.offset||[0,0],this.isWrap=this.nearby&&(d||this.nearby.find(this.element).length),this.autoAdjust=b.autoAdjust,this.element&&this.bind()},d.align.prototype={bind:function(){var a=this,b=this.element.data("align");b?this.nearby.add(window).off(b):(b=".align"+(new Date).getTime(),this.element.data("align",b)),!this.cssFixed&&this.fixed&&this.nearby.on("scroll"+b,function(){a.set()}),c(window).on("resize"+b,function(){a.set()}),this.set()},get:function(a){a=a||this.nearby;var b=a.offset(),c={width:a.outerWidth(),height:a.outerHeight(),x:b?b.left:0,y:b?b.top:0,scrollLeft:this.cssFixed?0:a.scrollLeft(),scrollTop:this.cssFixed?0:a.scrollTop(),WIDTH:this.element.outerWidth(!0),HEIGHT:this.element.outerHeight(!0)};return c},set:function(b){if(this.element&&0!=this.visible){b=b||{};var d=b.position||this.position,e=a(b.nearby)||this.nearby;if(e){this.element.css("position",this.cssFixed?"fixed":"absolute");var f,g,h,i,j,k,l,m=this.get(e),n={x:{},y:{}},o={};this.isWrap&&(m.x=m.y=0),n.x.element="WIDTH",n.y.element="HEIGHT",n.x.nearby="width",n.y.nearby="height",n.x.offset=0,n.y.offset=1,n.x.scroll="scrollLeft",n.y.scroll="scrollTop";for(g in d)h=i=d[g],j=typeof h,"function"==j&&(h=h(m),j=typeof h),k="top"==g||"bottom"==g?"y":"x",f=n[k],h="number"==j?(m[f.nearby]-(this.relative?m[f.element]:0))*h/100:parseInt(h,10),("bottom"==g||"right"==g)&&(h*=-1,h-=m[f.element]-m[f.nearby]),h+=m[k]+this.offset[f.offset]+m[f.scroll],this.autoAdjust&&(l=this.isWrap?m[f.nearby]:c(window)[f.nearby](),h+m[f.element]-m[f.scroll]>l?h=m[f.element]<m[k]-m[f.scroll]?m[k]-m[f.element]:m[f.scroll]:h<m[f.scroll]&&(h=m[f.scroll])),o["x"==k?"left":"top"]=h;return"animate"==this.fixed?void this.element.stop().animate(o,200):void this.element.css(o)}}}},d.effect=function(a,b){a&&a.length&&(this.element=a,this.effect=b||"normal")},d.effect.prototype={item:{normal:[function(a){a.removeClass("v_hide nj_hide")},function(a){a.addClass("v_hide nj_hide")}],fade:[function(a){a.css({visibility:"visible",opacity:0}).stop().fadeTo(300,1)},function(a){a.fadeTo(400,0,function(){a.css("visibility","hidden")})}],slide:[function(a){a.css({visibility:"visible",display:"none"}).stop().slideDown(200)},function(a){a.slideUp(200,function(){a.css("visibility","hidden")})}]},show:function(){this.item[this.effect][0](this.element)},hide:function(){this.item[this.effect][1](this.element)}},d});