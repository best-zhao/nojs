/*nolure@vip.qq.com*/define("lib/nojs/mods/path",[],function(){function a(a){this.url=a||location.href,this.mainUrl=this.url.split("?")[0],this.path=this.url.split("?")[1]||"",this.hash="",this.getHash(),this.array=this.path?this.path.split("&"):[],this.object={};var b,c;for(b=0;b<this.array.length;b++)c=this.array[b].split("="),this.object[c[0]]=c[1]}return a.prototype={getHash:function(){if(!(this.url.indexOf("#")<0)){var a=this.mainUrl.indexOf("#")>0?this.mainUrl:this.path;this.mainUrl.indexOf("#")>0?(a=this.mainUrl.split("#"),this.mainUrl=a[0]):(a=this.path.split("#"),this.path=a[0]),this.hash=a[1]?"#"+a[1]:""}},init:function(a){a=a===!1?!1:!0,this.array=[];for(var b in this.object)this.array.push(b+"="+this.object[b]);return this.path=this.array.join("&"),this.url=this.mainUrl,this.path&&(this.url+="?"+this.path),this.url+=this.hash,this.url},add:function(a,b){return this.object[a]=b,this.init()},remove:function(a){return this.object[a]&&delete this.object[a],this.init()}},a});