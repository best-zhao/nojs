/*nolure@vip.qq.com*/define("lib/nojs/mods/lazyload",["lib/jquery/jquery"],function(require){function a(a){this.options=a=a||{},this.scroll=a.scroll||c,this.area=a.area||(this.scroll[0]===window?d:this.scroll),this.attr=a.attr||"data-lazyload",this.offset=a.offset||50,this.init()}var b=require("lib/jquery/jquery"),c=b(window),d=b(document);return a.prototype={init:function(){var a,b=this;this.scroll.off("scroll.lazyload resize.lazyload").on("scroll.lazyload resize.lazyload",function(){clearTimeout(a),a=setTimeout(function(){b.load()},15)}),this.load()},load:function(a,c){function d(b){f=a.eq(b),f.length&&(h=f.attr(k.attr),h&&(c?e(f,h):(k.scroll[0]!==window&&(l.top=0),g=f.offset().top-m,i=f.outerHeight()+g<l.top-k.offset,j=g>l.top+l.height+k.offset,i||j||e(f,h))),b++,file=k.area.find("img["+k.attr+"]"),setTimeout(function(){d(b)},10))}function e(a,c){a.off("load.lazyload error.lazyload").on("load.lazyload error.lazyload",function(){b(this).fadeTo(200,1),k.options.onload&&k.options.onload.call(this),b(this).off("load.lazyload error.lazyload")}),a.attr("src",c).removeAttr(k.attr)}if(a=a||this.area.find("img["+this.attr+"]").css("opacity",.2),!a.length&&b.isReady)return void this.scroll.off("scroll.lazyload resize.lazyload");var f,g,h,i,j,k=this,l=this.position(),m=this.scroll[0]===window?0:this.scroll.offset().top;d(0)},position:function(){var a=this.scroll;return{width:a.width(),height:a.innerHeight(),top:a.scrollTop(),left:a.scrollLeft()}}},a});