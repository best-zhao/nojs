/*nolure@vip.qq.com*/define("lib/nojs/mods/resize",["lib/jquery/jquery"],function(require){function a(a,c){this.element="string"==typeof a?b("#"+a):a,this.element&&this.element.length&&(this.options=c=c||{},this.position=this.element.css("position"),this.points=c.points||["tl","t","tr","r","br","b","bl","l"],"static"==this.position&&this.element.css("position","relative"),this.resizeStart=c.resizeStart,this.resize=c.resize,this.resizeEnd=c.resizeEnd,this.init())}var b=require("lib/jquery/jquery");return a.prototype={init:function(){var a="";b.each(this.points,function(b,c){a+='<div class="nj_resize_handler nj_resize_handler_'+c+'" data-direction="'+c+'"></div>'}),this.element.append(a),this.bind()},bind:function(){function a(a){e={x:a.clientX,y:a.clientY};var b=e.x-d.x,c=e.y-d.y,i={};/^(t|b)$/.test(f)||(i.width=g.width+b),/^(l|r)$/.test(f)||(i.height=g.height+c),/^(tl|t|tr)$/.test(f)&&(i.top=g.top+c,i.height=g.height-c),/^(tl|l|bl)$/.test(f)&&(i.left=g.left+b,i.width=g.width-b),h.element.css(i),h.resize&&h.resize.call(h),a.preventDefault()}function c(){i.off("mousemove.resize mouseup.resize"),h.resizeEnd&&h.resizeEnd.call(h)}var d,e,f,g,h=this,i=b(document);this.element.find("div.nj_resize_handler").mousedown(function(b){return f=this.getAttribute("data-direction"),d={x:b.clientX,y:b.clientY},g={width:h.element.width(),height:h.element.height(),top:parseInt(h.element.css("top"))||0,left:parseInt(h.element.css("left"))||0},h.resizeStart&&h.resizeStart.call(h),b.preventDefault(),b.stopPropagation(),i.on("mousemove.resize",a).on("mouseup.resize",c),!1})}},a});